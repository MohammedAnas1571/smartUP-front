import{r as i,j as r,b as t,A as c}from"./index-BX51NH_z.js";import{T as f}from"./TableContent-Ff84-aq7.js";import{u as h,P as l}from"./PaginationPage-DdJYRvVX.js";import"./pagination-B6vEXH4V.js";const A=()=>{const[g,u]=i.useState([]),{currentPage:a,setCurrentPage:m,totalPages:p,setTotalPages:x}=h(),n=async()=>{var e;try{const{data:s}=await t.get(`/auth/admin/users/?page=${a}`);u(s.user),x(s.pageCount)}catch(s){t.isAxiosError(s)&&((e=s.response)!=null&&e.data.err)&&c.error(s.response.data.message||" Sorry Something  Went Wrong!")}};i.useEffect(()=>{n()},[a]);const d=async(e,s)=>{try{await t.put("/auth/admin/block-user",{id:e,isBlocked:s}),n()}catch(o){t.isAxiosError(o)&&o.response&&c.error(o.response.data.message||"Something Went To Wrong")}};return r.jsxs(r.Fragment,{children:[r.jsx(f,{handleBlock:d,users:g}),r.jsx(l,{currentPage:a,setCurrentPage:m,totalPages:p})]})};export{A as default};
