import{j as e,L,d as y,u as C,r as d,b as j,A as g,k as E,I as w,B as S}from"./index-CPcYxd-k.js";import{C as p,a as v,b as N,c as f}from"./card-CiLoeUdg.js";import{T as B,a as V}from"./tabs-C1HaSUb1.js";import{D as k,a as P,b as D,c as A,d as F}from"./dialog-D-63cHGP.js";import{L as b}from"./label-BcQNLJWR.js";import{T as R}from"./textarea-TqnRW6ES.js";import{P as M}from"./validation-6ymd3LOM.js";import{u as O}from"./formik.esm-CycV9Q1f.js";import"./index-nRS7f88W.js";import"./index.esm-DhO-h40l.js";import"./index-8JwjhRSi.js";const W=()=>e.jsx("div",{className:"mr-5 ",children:e.jsxs("div",{className:"group mx-2 grid max-w-screen-lg grid-cols-1 space-x-8 overflow-hidden    sm:grid-cols-5",children:[e.jsx("div",{className:"col-span-2 text-left text-gray-600 hover:text-gray-700",children:e.jsx("div",{className:"group relative h-full w-full overflow-hidden",children:e.jsx("img",{src:"/Group 6325.png",alt:"",className:"h-80 border-none object-cover text-gray-700 "})})}),e.jsxs("div",{className:"col-span-3 flex flex-col space-y-5  text-left",children:[e.jsx("div",{className:"mt-3 overflow-hidden text-3xl font-semibold",children:"Create an Engaging Course"}),e.jsx("p",{className:"overflow-hidden ",children:"Create an Engaging Course Whether you've been teaching for years or are teaching for the first time, you can make an engaging course."}),e.jsx("div",{children:e.jsx(L,{to:"/instructor/addcourse",children:e.jsx("button",{className:"my-5 rounded-sm  px-5 py-3 text-center font-bold transition text-lg  bg-primary  text-white sm:me-auto",children:"Create Your Course"})})})]})]})}),$=W,H=({change:o,setChange:i})=>{const{currentTutor:s}=y(r=>r.tutor),c=C(),t=d.useRef(null),[m,h]=d.useState(`/auth/${s==null?void 0:s.profilePhoto}`),a=O({initialValues:{username:(s==null?void 0:s.username)||"",about:(s==null?void 0:s.about)||"",profession:(s==null?void 0:s.profession)||"",image:`/auth/${s==null?void 0:s.profilePhoto}`||""},validationSchema:M,onSubmit:async r=>{try{const l=new FormData;l.append("username",r.username),l.append("image",r.image),l.append("about",r.about),l.append("profession",r.profession);const{data:n}=await j.put("/auth/tutor/profile",l,{headers:{"Content-Type":"multipart/form-data"}});g.success("Profile Updated Successfully"),console.log(n),c(E(n)),i(!1)}catch(l){j.isAxiosError(l)&&l.response&&g.error(l.response.data.message||"Something Went To Wrong")}}}),x=r=>{const l=r.currentTarget.files&&r.currentTarget.files[0];if(l){a.setFieldValue("image",l);const n=new FileReader;n.onloadend=()=>{h(n.result)},n.readAsDataURL(l)}};return e.jsx("div",{children:e.jsx(k,{open:o,onOpenChange:i,children:e.jsxs(P,{className:"sm:max-w-[550px]  shadow-lg ",children:[e.jsx(D,{}),e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{className:"grid gap-4 ",children:[e.jsxs("div",{className:"flex flex-col items-center ",children:[e.jsx("input",{type:"file",ref:t,hidden:!0,name:"image",accept:"image/*",onChange:x}),e.jsx("img",{src:m,alt:"Profile Picture",className:"h-36 w-36 self-center cursor-pointer rounded-full object-cover  ",onClick:()=>t.current&&t.current.click()}),a.errors.image&&e.jsx("p",{className:"text-red-500",children:a.errors.image})]}),e.jsxs("div",{children:[e.jsx(b,{className:"text-right",children:"Username"}),e.jsx(w,{name:"username",defaultValue:a.values.username,onBlur:a.handleBlur,onChange:a.handleChange}),a.errors.username&&a.touched.username&&e.jsx("p",{className:"text-red-500",children:a.errors.username})]}),e.jsxs("div",{children:[e.jsx(b,{className:"text-right ",children:"email"}),e.jsxs("p",{children:[" ",s==null?void 0:s.email," "]})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"qualification",className:"text-right",children:"Profession"}),e.jsx(w,{name:"profession",onBlur:a.handleBlur,defaultValue:a.values.profession,placeholder:"Enter Your Profession",onChange:a.handleChange}),a.errors.profession&&a.touched.profession&&e.jsx("p",{className:"text-red-500",children:a.errors.profession})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"username",className:"text-right ",children:"Tell about yourself in a few words."}),e.jsx(R,{defaultValue:a.values.about,name:"about",onBlur:a.handleBlur,onChange:a.handleChange,placeholder:"Type about yourself"}),a.errors.about&&a.touched.about&&e.jsx("p",{className:"text-red-500",children:a.errors.about})]})]}),e.jsx(A,{children:e.jsx(S,{className:"mt-4",type:"submit",children:"Save changes"})})]})]})})})},I=({email:o,setModal:i})=>{const s=C(),[c,t]=d.useState(""),[m,h]=d.useState(""),a=async x=>{if(x.preventDefault(),!c.trim()){h("please fill otp field");return}try{const{data:r}=await j.post("/auth/tutor/verifyotp",{otp:c,email:o});g.success("Email is changed"),s(E(r.tutor)),i(!1)}catch(r){j.isAxiosError(r)&&r.response?g.error(r.response.data.message||"Something went wrong."):console.error("An unexpected error occurred:",r)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col space-y-2 text-center mb-2",children:[e.jsx("h2",{className:"text-2xl md:text-2xl font-bold",children:"Confirm OTP"}),e.jsx("p",{className:"text-md  md:text-xl ",children:"Enter the OTP we just sent you."})]}),e.jsx("form",{onSubmit:a,children:e.jsxs("div",{className:"flex flex-col max-w-md space-y-5",children:[e.jsx("input",{type:"text",placeholder:"otp",onChange:x=>t(x.target.value),className:"flex px-3 py-2 md:px-4 md:py-3 border-2 border-black rounded-lg font-medium placeholder:font-normal"}),m&&e.jsx("p",{className:"text-red-500 ",children:m}),e.jsx("input",{hidden:!0,value:o}),e.jsx(S,{className:"flex items-center justify-center flex-none px-3 py-2 md:px-4 md:py-3 border-2 rounded-lg font-medium text-white",children:"Confirm"})]})})]})},U=({modal:o,setModal:i})=>{const{currentTutor:s}=y(n=>n.tutor),[c,t]=d.useState(!1),m=C(),[h,a]=d.useState((s==null?void 0:s.email)||""),[x,r]=d.useState(""),l=async n=>{if(n.preventDefault(),!h||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){r("Please enter a valid email address.");return}try{const{data:u}=await j.post("/auth/tutor/change-email");g.success("Please check Otp in  Your Entered Email"),console.log(u),m(E(u.tutor)),t(!0)}catch(u){j.isAxiosError(u)&&u.response?g.error(u.response.data.message||"Something went wrong."):console.error("An unexpected error occurred:",u)}};return e.jsx("div",{children:e.jsx(k,{open:o,onOpenChange:i,children:e.jsx(P,{className:"sm:max-w-[400px]",children:c?e.jsx(I,{setModal:i,email:h}):e.jsxs("form",{onSubmit:l,children:[e.jsx(D,{children:e.jsx(F,{children:"Edit Email"})}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"Email",className:"text-right",children:"Email"}),e.jsx(w,{name:"email",defaultValue:s==null?void 0:s.email,className:"mt-2",onChange:n=>a(n.target.value)}),x&&e.jsx("p",{className:"text-red-500",children:x})]}),e.jsx(A,{className:"mt-4",children:e.jsx(S,{type:"submit",children:"Save changes"})})]})})})})},Y=()=>{const[o,i]=d.useState(!1),[s,c]=d.useState(!1),{currentTutor:t}=y(m=>m.tutor);return e.jsxs("div",{className:"mx-auto flex max-w-xs flex-col items-center  text-center md:max-w-lg md:flex-row md:items-start md:text-left",children:[e.jsx("div",{className:"mb-4 md:mr-6 md:mb-0 flex-shrink-0",children:e.jsx("img",{className:"h-56 rounded-lg object-cover md:w-56",src:`/auth/${t==null?void 0:t.profilePhoto}`,alt:""})}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-xl font-medium ",children:t==null?void 0:t.username}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("p",{className:" text-sm font-medium ",children:[t==null?void 0:t.email," "]}),s&&e.jsx(U,{modal:s,setModal:c}),e.jsx("span",{onClick:()=>c(!0),className:"text-blue-600 text-sm cursor-pointer underline",children:"Edit"})]}),e.jsx("p",{className:"mb-4 text-sm font-medium ",children:t==null?void 0:t.profession}),e.jsx("p",{className:"mb-4 text-sm ",children:t==null?void 0:t.about}),e.jsxs("div",{className:"flex space-x-2",children:[o&&e.jsx(H,{change:o,setChange:i}),e.jsx("button",{onClick:()=>{i(!0)},className:"my-2 rounded-sm px-5 py-3 text-center font-bold transition text-lg bg-primary text-white sm:me-auto",children:"Edit Profile"})]})]})]})},q=Y;function te(){return e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsxs("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),e.jsx("div",{className:"flex items-center space-x-2"})]}),e.jsx(B,{defaultValue:"overview",className:"space-y-4",children:e.jsxs(V,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(p,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Students Admitted"}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"})]})]}),e.jsx(f,{children:e.jsx("div",{className:"text-2xl font-bold",children:"1111"})})]}),e.jsxs(p,{children:[e.jsx(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(N,{className:"text-sm font-medium",children:"Added Corses"})}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"1255"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+180.1% from last month"})]})]}),e.jsxs(p,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Sales"}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:[e.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),e.jsx("path",{d:"M2 10h20"})]})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"+12,234"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+19% from last month"})]})]}),e.jsxs(p,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Active Now"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"+573"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+201 since last hour"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[e.jsx(p,{className:"col-span-4",children:e.jsx(f,{className:"pl-2",children:e.jsx($,{})})}),e.jsxs(p,{className:"col-span-3",children:[e.jsx(v,{children:e.jsx(N,{children:"About Me"})}),e.jsx(f,{children:e.jsx(q,{})})]})]})]})})]})})})}export{te as default};
